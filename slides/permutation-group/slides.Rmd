---
author: [ codgician ]
title: æµ…è°ˆç½®æ¢ç¾¤
date: 2020.03.14
output:
  revealjs::revealjs_presentation:
    theme: black
    highlight: pygments
    transition: fade
    background_transition: slide
    center: true
    reveal_options:
      width: 1366
      height: 768
---

# å…³ç³» { #relation }

- é›†åˆçš„**ç¬›å¡å°”ç§¯ (Cartesian product)**ï¼š
$$
A \times B = \left\{ (a, b) \mid a \in A, b \in B \right\}
$$
- è®¾ $A$ æ˜¯é›†åˆï¼Œé›†åˆ $A \times A$ çš„æ¯ä¸ªå­é›† $R$ å«åšé›†åˆ $A$ ä¸Šçš„ä¸€ä¸ª**å…³ç³» (relation)**ã€‚
- è‹¥ $(a, b) \in R$ï¼Œåˆ™ç§° $a$ å’Œ $b$ æœ‰å…³ç³» $R$ï¼Œè®°ä½œ $aRb$ã€‚

## ç­‰ä»·å…³ç³» { #equivalence-relation }

è‹¥é›†åˆ $A$ ä¸Šçš„å…³ç³» $\sim$ æ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š

- **è‡ªåæ€§**ï¼š$\forall a \in A$ï¼Œ$a \sim a$ï¼›
- **å¯¹ç§°æ€§**ï¼š$\forall a, b \in A$ï¼Œè‹¥ $a \sim b$ åˆ™ $b \sim a$ï¼›
- **ä¼ é€’æ€§**ï¼š$\forall a, b \in A$ï¼Œè‹¥ $a \sim b, \ b \sim c$ï¼Œåˆ™ $a \sim c$ï¼›

åˆ™ç§° $\sim$ æ˜¯**ç­‰ä»·å…³ç³» (equivalence relation)**

---

$$
a \sim b := a \equiv b \pmod 7
$$

- è‡ªåæ€§ï¼Ÿå¯¹ç§°æ€§ï¼Ÿä¼ é€’æ€§ï¼Ÿ
- çœ‹èµ·æ¥å¯ä»¥æŠŠæ‰€æœ‰è‡ªç„¶æ•°åˆ†æˆ $7$ ç±»â€¦â€¦

## ç­‰ä»·ç±» { #equivalence-class }

è®¾ $\sim$ æ˜¯ $A$ ä¸Šçš„ç­‰ä»·å…³ç³»ï¼Œ$\forall a \in A$ï¼Œ$[a]$ è¡¨ç¤º $A$ ä¸­ä¸ $a$ ç­‰ä»·çš„å…¨éƒ¨å…ƒç´ æ„æˆçš„é›†åˆï¼š

$$
[a] = \{ b \sim a \mid b \in A \}
$$

ç§° $[a]$ ä¸º $a$ æ‰€åœ¨çš„**ç­‰ä»·ç±» (equivalence class)**ã€‚

---

**è‹¥ $a, b \in A$ ä¸” $[a] \cap [b] \neq \emptyset$ï¼Œåˆ™ $[a] = [b]$ã€‚**


::: { .fragment .fade-in-then-out style="height:0" }

- å‡è®¾ $k_1 \in [a]$ ä¸” $k_1 \notin [b]$ï¼Œ$k_2 \in [a] \cap [b]$ï¼›
- åˆ™æœ‰ $k_1 \sim a, \ k_2 \sim a, \ k_2 \sim b$ï¼›
- ç”±ä¼ é€’æ€§å¾— $k_1 \sim b$ï¼Œä¸å‡è®¾ä¸ç¬¦ã€‚

::: 

::: { .fragment }

- é›†åˆ $A$ å¯çœ‹ä½œä¸€äº›ä¸¤ä¸¤ä¸ç›¸äº¤çš„ç­‰ä»·ç±»çš„å¹¶ï¼š
  $$
  A = \bigcup\limits_{a \in R} [a] \text{ï¼ˆä¸¤ä¸¤ä¸ç›¸äº¤ä¹‹å¹¶ï¼‰}
  $$
- $A$ ä¸Šçš„æ¯ä¸ªç­‰ä»·å…³ç³»ç»™å‡ºé›†åˆ $A$ çš„ä¸€ä¸ª**åˆ’åˆ† (partition)**ã€‚

:::

::: { .notes }

å…³äº $R$ï¼Œäº‹å®ä¸Šæ˜¯å®Œå…¨ä»£è¡¨ç³»ï¼Œç”±ç­‰ä»·ç±» $[a_i]$ ä¸­é€‰å‡ºä¸€ä¸ªå…ƒç´ æ„æˆï¼Œä½¿å¾— $A$ ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¸ $R$ ä¸­çš„æŸä¸ªå…ƒç´ ç­‰ä»·ï¼ŒåŒæ—¶ $R$ ä¸­çš„å…ƒç´ å½¼æ­¤ä¸ç­‰ä»·ã€‚

å¯¹äºåˆ’åˆ†çš„å®šä¹‰ï¼šè‹¥ $A$ æ˜¯å®ƒçš„æŸäº›å­é›† $\{ A_i | i \in I \}$ ä¹‹å¹¶ï¼Œä¸” $A_i$ ä¸¤ä¸¤ä¸äº¤ï¼Œåˆ™ç§°å…¶ä¸ºé›†åˆ $A$ çš„ä¸€ä¸ªåˆ’åˆ†ï¼ˆæˆ–åˆ†æ‹†ï¼‰ã€‚ 

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¼•å…¥ç­‰ä»·ç±»çš„æ„ä¹‰å°±æ˜¯ä¸ºäº†å¯¹é›†åˆä¸­çš„å…ƒç´ è¿›è¡ŒæŸç§ç¨‹åº¦ä¸Šçš„åˆ†ç±»ã€‚åé¢è¦ä»‹ç»çš„è½¨é“ã€é™ªé›†ç­‰æœ¬è´¨ä¸Šéƒ½æ˜¯åŸºäºç­‰ä»·å…³ç³»çš„ã€‚

:::


# ç¾¤ $(G, \cdot)$ { #group }

$G$ æ˜¯éç©ºé›†åˆï¼Œä¸”äºŒå…ƒè¿ç®—æ»¡è¶³ï¼š

- ç»“åˆå¾‹ï¼š$(a \cdot b) \cdot c = a \cdot (b \cdot c)$
- å•ä½å…ƒ $e$ï¼š$\forall a \in G, \ ea = ae = a$ 
- é€†å…ƒï¼š$\forall a \in G, \ \exist b \in G \text{ \ s.t. \ } ab = ba = e$
  
::: { .fragment }

è‹¥æ»¡è¶³äº¤æ¢å¾‹ï¼Œåˆ™ç§°ä¸º**äº¤æ¢ç¾¤**

:::

::: { .notes }

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ„æˆç¾¤ä¸ä¸€å®šè¦æ»¡è¶³äº¤æ¢å¾‹ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä¼šè¯´æ˜ä¸ºä»€ä¹ˆå¯¹äºç¾¤å·¦å³é€†å…ƒæ˜¯ç›¸ç­‰çš„ã€‚

:::

---

- å·¦å³é€†å…ƒç›¸ç­‰ï¼š
  - è®¾ $x$ æ˜¯ $a$ çš„å·¦é€†å…ƒï¼Œ$y$ æ˜¯ $a$ çš„å³é€†å…ƒï¼Œæœ‰ï¼š
  
    $$
    x = xe = x(ay) = (xa)y = y
    $$

- æ»¡è¶³æ¶ˆå»å¾‹ï¼š
  - $\forall a, b, c \in G, \ ab = ac \Leftrightarrow b = c$

::: { .notes }

åªè¦é€†å…ƒå­˜åœ¨å°±æ»¡è¶³æ¶ˆå»å¾‹ï¼šä¸¤è¾¹éƒ½ä¹˜ä¸Š $a^{-1}$ å³å¯ã€‚

:::  

## å­ç¾¤ { #subgroup }

è®¾ $(G, \cdot)$ ä¸ºç¾¤ï¼Œ$H$ æ˜¯ $G$ çš„å­é›†ï¼Œè‹¥ $(H, \cdot)$ æˆç¾¤ï¼Œåˆ™ç§° $H$ ä¸º $G$ çš„**å­ç¾¤ (subgroup)**ï¼Œè®°ä½œ $H \le G$ï¼›

## é™ªé›† { #coset }

è®¾ $H \leq G$ï¼Œå¯¹äº $x \in G$ï¼š

- $H$ çš„ä¸€ä¸ª**å·¦é™ªé›† (left coset)** $xH$ï¼š
  $$
  xH = \{ x \cdot h \mid h \in H \}
  $$
- $H$ çš„ä¸€ä¸ª**å³é™ªé›† (right coset)** $Hx$ï¼š
  $$
  Hx = \{ h \cdot x \mid h \in H \}
  $$

::: { .notes }

ç”±äºå·¦å³é™ªé›†ç›¸å…³å†…å®¹æ˜¯ç›¸ä¼¼çš„ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥åªä¼šåˆ†æå·¦é™ªé›†ã€‚

:::

---

$$
\begin{aligned}
xH & = \{ x \cdot h \mid h \in H \}
\end{aligned}
$$

::: { .fragment }

$$
x \sim y := x \in yH
$$

- **è‡ªåæ€§**ï¼š$x \in xH$ï¼›
- **å¯¹ç§°æ€§**ï¼šè‹¥ $y \in xH$ï¼Œåˆ™ $x \in yH$ï¼›
- **ä¼ é€’æ€§**ï¼šè‹¥ $z \in yH, \ y \in xH$ï¼Œåˆ™ $z \in xH$ã€‚

:::

::: { .notes }

$x \sim y := x \in yH$ æ˜¯ä¸€ä¸ªç­‰ä»·å…³ç³»ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å€ŸåŠ©é™ªé›†å¯¹ç¾¤ $G$ è¿›è¡Œåˆ’åˆ†ã€‚

æ³¨æ„é™ªé›†ä¸ä¸€å®šæ˜¯ $G$ çš„ä¸€ä¸ªå­ç¾¤ã€‚

ğŸ’¡ æç¤º:

1. æ—¢ç„¶ $H$ è¿˜æ˜¯ç¾¤ï¼Œé‚£ä¹ˆè‚¯å®šæœ‰å•ä½å…ƒï¼›
2. æ—¢ç„¶ $H$ ä¸­é€†å…ƒå­˜åœ¨ï¼Œæœ‰ $y = x \cdot h$ï¼Œ è‡ªç„¶æœ‰ $x = y \cdot h^{-1}$ ä¸” $h^{-1} \in H$ï¼›
3. $z = y \cdot h_1, \ y = x \cdot h_2 \Rightarrow z = x \cdot h_2h_1$ï¼Œåˆ $h_2h_1 \in H$ï¼Œè‡ªç„¶å¾—è¯ã€‚

:::

---

- è‹¥ $xH \cap yH \neq \emptyset$ï¼Œåˆ™ $xH = yH$ï¼›
- åˆ©ç”¨é™ªé›†å¯ä»¥å¯¹ç¾¤ $G$ è¿›è¡Œåˆ’åˆ†ï¼ˆé™ªé›†åˆ†è§£ï¼‰ï¼š
  
  $$
  G = \bigcup\limits_{g \in R} gH \text{ï¼ˆä¸¤ä¸¤ä¸ç›¸äº¤ä¹‹å¹¶ï¼‰}
  $$

::: { .notes }

æ—¢ç„¶æ˜¯ç­‰ä»·å…³ç³»ï¼Œé‚£ä¹ˆå¯ä»¥å¾—åˆ°è¿™é‡Œçš„æ¨è®ºã€‚

è¿™é‡Œå±•ç°äº†å¯¹äºç¾¤ $G$ çš„å·¦é™ªé›†åˆ†è§£ï¼Œç±»ä¼¼åœ° $R$ ç§°ä½œ $G$ å¯¹ $H$ å·¦é™ªé›†çš„ä»£è¡¨å…ƒç³»ã€‚$R$ ç”± $G$ ä¸­çš„å…ƒç´ æ„æˆï¼Œå¹¶ä¸”è¿™äº›ç”¨å…ƒç´ ç”Ÿæˆçš„å·¦é™ªé›†å½¼æ­¤äº’ä¸ç›¸åŒï¼Œä¸æ­¤åŒæ—¶è¿™äº›å·¦é™ªé›†çš„å¹¶é›†æ°å¥½ä¸º $G$ã€‚

:::

---

- å¯¹äº $a, b \in H, g \in G$ï¼Œç”±æ¶ˆå»å¾‹ $a \neq b \Leftrightarrow ga \neq gb$ï¼›
- å› æ­¤ï¼Œ$\forall g \in R, \ |gH| = |H|$:
  $$
  |G| = \sum\limits_{g \in R} |gH| 
  = \sum\limits_{g \in R} |H| 
  = |R| \cdot |H|
  $$


::: { .notes }

åˆ©ç”¨ç¾¤ $G$ çš„ä¸€ä¸ªå­ç¾¤ $H$ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©é™ªé›†å¯¹ $G$ è¿›è¡Œåˆ’åˆ†ã€‚æ¢å¥è¯è¯´ï¼Œç¾¤ $G$ ä¸€å®šå¯ä»¥è¡¨ç¤ºæˆè‹¥å¹²ä¸ª $H$ çš„äº’ä¸ç›¸äº¤çš„å·¦ï¼ˆå³ï¼‰é™ªé›†ä¹‹å¹¶ï¼ŒåŒæ—¶è¿™äº›é™ªé›†çš„å¤§å°éƒ½æ˜¯ç›¸åŒçš„ã€‚

æŠŠ $|R|$ è®°ä½œç¾¤ $H$ å¯¹ç¾¤ $G$ çš„æŒ‡æ•° $[G : H]$ï¼Œå°±å¯ä»¥å¾—åˆ°æ‹‰æ ¼æœ—æ—¥å®šç†â€¦â€¦

:::

## æ‹‰æ ¼æœ—æ—¥å®šç† { #lagrange-theorem }

è®¾ $G$ ä¸ºæœ‰é™ç¾¤ï¼Œ$H \leq G$ï¼Œåˆ™ï¼š

$$
|G| = [G : H] \cdot |H|
$$

å…¶ä¸­ $[G : H]$ ç§°ä¸ºç¾¤ $H$ å¯¹äºç¾¤ $G$ çš„**æŒ‡æ•° (index)**ã€‚

::: { .notes }

è¯´æ˜ $G$ çš„å­ç¾¤ $H$ çš„å¤§å°ä¸€å®šæ˜¯ G å¤§å°çš„å› å­ã€‚

:::

# ç½®æ¢ { #permutation }

ä¸€ä¸ªé›†åˆçš„**ç½®æ¢ (permutation)** å³ä»è¯¥é›†åˆæ˜ å°„è‡³è‡ªèº«çš„åŒå°„ã€‚

$$
\sigma = 
\left(\begin{array}{c}
1 & 2 & \dots & n \\
\sigma(1) & \sigma(2) & \dots & \sigma(n)
\end{array}\right)
$$

å¤åˆè¿ç®—: $(f \circ g)(x) = f(g(x))$

::: { .notes }

å¯ä»¥ç†è§£æˆå¯¹äº $1 \sim n$ çš„é‡æ’åˆ—ã€‚

å›å¿†ï¼šåŒå°„æè¿°çš„æ˜¯ä¸¤ä¸ªé›†åˆé—´çš„å…³ç³»ã€‚å½“ç„¶åœ¨è¿™é‡Œï¼Œå¯ä»¥æŠŠç½®æ¢æˆä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œåˆ™åŒå°„æè¿°çš„å°±æ˜¯å®šä¹‰åŸŸä¸å€¼åŸŸä¹‹é—´çš„å…³ç³»ã€‚

- å•å°„ï¼šå¯¹äºå®šä¹‰åŸŸé‡Œçš„æ¯ä¸€ä¸ª $x$ï¼Œå€¼åŸŸé‡Œéƒ½å­˜åœ¨ä¸€ä¸ª $y$ ä½¿å¾— $\sigma(x) = y$ï¼›
- æ»¡å°„ï¼šå¯¹äºå€¼åŸŸé‡Œçš„æ¯ä¸€ä¸ª $y$ï¼Œå®šä¹‰åŸŸé‡Œéƒ½å­˜åœ¨ä¸€ä¸ª $x$ ä½¿å¾— $y = \sigma(x)$ï¼›
- åŒå°„ï¼šåŒæ—¶æ»¡è¶³å•å°„å’Œæ»¡å°„ï¼Œå³å®šä¹‰åŸŸå’Œå€¼åŸŸé—´å­˜åœ¨ä¸¥æ ¼çš„ä¸€ä¸€å¯¹åº”å…³ç³»ã€‚

:::

---

$$
\left(\begin{array}{c} 
1 & 2 & 3 & 4 & 5 & 6 \\ 
4 & 5 & 1 & 3 & 6 & 2 
\end{array}\right)
$$

::: { .fragment }

$$
\begin{aligned}
1 & \rightarrow 4 \rightarrow 3 \\
2 & \rightarrow 5 \rightarrow 6
\end{aligned}
$$

ä»»ä¸€ç½®æ¢éƒ½èƒ½è¢«åˆ’åˆ†æˆè‹¥å¹²ä¸äº¤çš„æ˜ å°„é“¾ï¼Ÿ

:::


::: { .notes }

å¦‚æœå¯ä»¥çš„è¯ï¼Œè¿™å°±æ„å‘³ç€æˆ‘ä»¬å‘ç°äº†ä¸€ç§èƒ½å¤Ÿæ›´ç®€å•è¡¨ç¤ºç½®æ¢çš„æ–¹å¼ï¼ˆä¹Ÿå°±æ˜¯åé¢è¦ä»‹ç»çš„è½®æ¢è¡¨ç¤ºæ³•ï¼‰ã€‚

:::

## è½®æ¢è¡¨ç¤ºæ³• { #cycle-notation }

$$ 
\left(\begin{array}{c}
a_1 & a_2 & \dots & a_n \\
a_2 & a_3 & \dots & a_1
\end{array}\right) \xRightarrow{\text{è®°ä½œ}} (a_1 \enspace a_2 \enspace \dots \enspace a_n)
$$

---

$$
\left(\begin{array}{c} 
1 & 2 & 3 & 4 & 5 & 6 \\ 
4 & 5 & 1 & 3 & 6 & 2 
\end{array}\right)
= (1 \enspace 4 \enspace 3) \cdot (2 \enspace 5 \enspace 6)
$$

::: { .fragment }

**è‹¥ä¸è®¡è½®æ¢å†…å¤–çš„æ¬¡åºï¼Œå¯¹äºä»»æ„ç½®æ¢çš„ä¸äº¤è½®æ¢åˆ†è§£æ˜¯å”¯ä¸€çš„å—ï¼Ÿ**

:::

::: { .notes }

æ˜¾ç„¶ä¸äº¤çš„è½®æ¢åœ¨å¤åˆæ—¶æ˜¯æ»¡è¶³äº¤æ¢å¾‹çš„ï¼Œä½†æ˜¯å¦‚æœä¸¤ä¸ªè½®æ¢ç›¸äº¤å°±ä¸å¥½è¯´äº†ï¼Œä¾‹å¦‚è¯•è¯•è®¡ç®— (1 2 3) * (3 4) æ˜¯å¦ç­‰äº (3 4) * (1 2 3)ã€‚

:::

---

- å¯¹äºæ’ç­‰ç½®æ¢ï¼Œæ˜¾ç„¶åˆ†è§£æ˜¯å”¯ä¸€çš„ï¼›
- å¯¹äºéæ’ç­‰ç½®æ¢ï¼Œ$\exist i \text{ \ s.t. \ } \sigma(i) \neq i$ã€‚
  - $i \rightarrow \sigma(i) \rightarrow \sigma^2(i) \rightarrow \dots$
  - ç”±æŠ½å±‰åŸç†ï¼Œ$\exist t_1 < t_2 \text{ \ s.t. \ } \sigma^{t_1}(i) = \sigma^{t_2}(i)$
  - ä»¤ $t$ ä¸ºä½¿å¾— $\sigma^t(i) = i$ çš„æœ€å°æ­£æ•´æ•°ï¼Œåˆ™ï¼š
    $$
    (i \enspace \sigma(i) \enspace \dots \enspace \sigma^{t - 1}(i))
    $$
    æ˜¯ä¸€ä¸ªè½®æ¢ã€‚

--- 

- å¯¹äºæ¯ä¸ªè¿™æ ·çš„ $i$ éƒ½å¦‚æ­¤æ“ä½œå³å¯æ„é€ å‡ºä¸€ä¸ªå”¯ä¸€çš„ä¸ç›¸äº¤è½®æ¢åˆ†è§£å¼ï¼š
  - æ¯ä¸ªå…ƒç´ åœ¨åˆ†è§£å¼ä¸­æ°å¥½å‡ºç° $1$ æ¬¡ï¼›
  - æ¯ä¸ªå…ƒç´ æ‰€å±äºçš„è½®æ¢æ˜¯å›ºå®šçš„ã€‚

## è½®æ¢çš„å¹‚è¿ç®— { #power-of-cycle }

::: { .fragment .current-visible style="height:0" }

$$
(1 \enspace 2 \enspace 3 \enspace 4 \enspace 5 \enspace 6)
$$

:::

::: { .notes }

æ—¢ç„¶ä»»æ„ç½®æ¢éƒ½å¯ä»¥è¢«åˆ†è§£æˆè‹¥å¹²ä¸äº¤è½®æ¢ä¹‹ç§¯ï¼Œé‚£ä¹ˆå¦‚æœè½®æ¢çš„å¹‚è¿ç®—èƒ½å¤Ÿå¿«é€Ÿè¿›è¡Œï¼Œæˆ‘ä»¬å°±å¯ä»¥å¿«é€Ÿåœ°å¯¹ä»»æ„ç½®æ¢è¿›è¡Œå¹‚è¿ç®—ã€‚

:::

::: { .fragment .fade-in-then-out style="height:0" }

$$
\begin{aligned}
& (1 \enspace 2 \enspace 3 \enspace 4 \enspace 5 \enspace 6)^2 \\
& = (1 \enspace 3 \enspace 5) \cdot (2 \enspace 4 \enspace 6)
\end{aligned}
$$

:::

::: { .fragment .fade-in-then-out style="height:0" }

$$
\begin{aligned}
& (1 \enspace 2 \enspace 3 \enspace 4 \enspace 5 \enspace 6)^3 \\
& =  (1 \enspace 4) \cdot (2 \enspace 5) \cdot (3 \enspace 6)
\end{aligned}
$$

:::

::: { .fragment .fade-in-then-out style="height:0" }

$$
\begin{aligned}
& (1 \enspace 2 \enspace 3 \enspace 4 \enspace 5 \enspace 6)^4 \\
& = (1 \enspace 5 \enspace 3) \cdot (2 \enspace 6 \enspace 4)
\end{aligned}
$$

:::

---

$$
\sigma = (a_0 \enspace a_1 \enspace \dots \enspace a_{n - 1})
$$

- $\sigma^t(a_i) = a_{[(i + t) \bmod n]}$
- ä»¤ $k \in N^{*} \text{ \ s.t. \ } \sigma^{tk}(a_i) = a_i$ï¼š
  
::: { .fragment .current-visible style="height:0" }
$$
i + tk \equiv i \pmod n
$$
:::

::: { .fragment }
$$
tk \equiv 0 \pmod n
$$

æœ€å°æ­£æ•´æ•°è§£ï¼š$k = \frac{n}{\gcd(n, t)}$
:::

---

$$
\sigma = (a_0 \enspace a_1 \enspace \dots \enspace a_{n - 1})
$$

- $\sigma^t$ å¯è¡¨ç¤ºä¸º $\gcd(n, t)$ ä¸ªé•¿ä¸º $\frac{n}{\gcd(n, t)}$ çš„è½®æ¢ï¼›
- $a_i$ æ‰€åœ¨è½®æ¢é‡Œç¬¬ $j$ ä¸ªå…ƒç´ ä¸º $a_{(i + jt) \bmod n}$ã€‚

  ::: { .fragment }
  - $a_i$ æ‰€åœ¨è½®æ¢å†…å…ƒç´ ä¸‹æ ‡æ¨¡ $\gcd(n, t)$ å‡ä¸º $i$ï¼›
  - $a_0, a_1, \dots a_{\gcd(n, t) - 1}$ ä¸€å®šä½äºä¸åŒè½®æ¢ã€‚
  :::

::: { .notes }

ä¸¤ä¸ªæ¨è®ºçš„è¯æ˜ä¸éš¾ï¼ˆç”¨åˆç­‰æ•°è®ºå°±å¯ä»¥è§£å†³ï¼‰ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œæ€è€ƒâ€¦â€¦

ğŸ’¡ æç¤ºï¼š

1. $\because \gcd(n, t) \mid t, \ \therefore \ i + jt \equiv i \pmod {\gcd(n, t)}$ 
2. å¯çœ‹ä½œä¸Šä¸€æ¡çš„æ¨è®ºã€‚

:::


## ç½®æ¢ç¾¤ { #permutation-group }

$n$ ä¸ªå…ƒçš„æ‰€æœ‰ç½®æ¢ï¼Œåœ¨å¤åˆè¿ç®— $\circ$ ä¸‹æˆç¾¤ï¼Œç§°ä½œ $n$ å…ƒ**å¯¹ç§°ç¾¤ (symmetric group)**ï¼Œè®°ä½œ $S_n$

- **ç»“åˆå¾‹**ï¼š$(\sigma \circ \tau) \circ \phi = \sigma \circ (\tau \circ \phi)$
- **å•ä½å…ƒ**ï¼šæ’ç­‰ç½®æ¢ $\epsilon \circ x = x$ï¼›
- **é€†å…ƒ**ï¼šç½®æ¢æ˜¯åŒå°„ï¼Œæ•…å¿…ç„¶å­˜åœ¨é€†ç½®æ¢ã€‚

::: { .notes }

å¯¹äºç»“åˆå¾‹çš„è¿›ä¸€æ­¥è¯´æ˜ï¼šç­‰å¼ä¸¤è¾¹éƒ½æ˜¯ $\sigma(\tau(\phi(x)))$

:::

# ç¾¤åœ¨é›†åˆä¸Šçš„ä½œç”¨ { #group-action }

$$
\begin{aligned}
\phi: G \times M & \longrightarrow M \\
(\sigma, x) & \longmapsto \sigma \circ x
\end{aligned}
$$

- $\forall x \in M$ æ»¡è¶³ï¼š
  - **å•ä½å…ƒ**ï¼š$\exist \epsilon \in G \text{ \ s.t. \ }\epsilon \circ x = x$
  - **ç»“åˆå¾‹**ï¼š$\tau \circ (\sigma \circ x) = (\tau \circ \sigma) \circ x$

::: { .notes }

$G$ æ˜¯ä¸€ä¸ªç¾¤ï¼ˆè¿™é‡Œæˆ‘ä»¬å°±çœ‹æˆç½®æ¢ç¾¤ï¼‰ï¼Œ$M$ æ˜¯ä¸€ä¸ªé›†åˆã€‚å¦‚æœå­˜åœ¨è¿™æ ·çš„æ˜ å°„ $\phi$ å¹¶ä¸”æ»¡è¶³ä¸Šè¿°æ¡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°ç¾¤ $G$ åœ¨é›†åˆ $M$ ä¸Šæœ‰ç¾¤ä½œç”¨ã€‚

æ ¹æ® Cayley å®šç†ï¼Œæ¯ä¸ªç¾¤å‡åŒæ„äºæŸä¸ªç½®æ¢ç¾¤ã€‚æœ‰äº†è¿™ä¸ªå‰æå¯èƒ½ä¼šæ›´å¥½ç†è§£ç¾¤åœ¨é›†åˆä¸Šçš„ä½œç”¨ã€‚ä½†æ˜¯ä»Šå¤©ç¢äºä¸»é¢˜ï¼Œæˆ‘ä»¬ä¸»è¦æ¢è®¨ç½®æ¢ç¾¤å¯¹äºé›†åˆçš„ä½œç”¨ã€‚

:::

---

ç”¨é»‘ç™½ä¸¤è‰²å¯¹ç­‰è¾¹ä¸‰è§’å½¢é¡¶ç‚¹æŸ“è‰²ï¼Œè‹¥å¯é€šè¿‡æ—‹è½¬å¾—åˆ°çš„æ–¹æ¡ˆç®—ç›¸åŒæ–¹æ¡ˆï¼Œæ±‚æ–¹æ¡ˆæ•°ï¼Ÿ

::: { .fragment .fade-in-then-out style="height:0" }

![åœ¨æ—‹è½¬æ„ä¹‰ä¸‹åŒæ„](./images/ga-example-1.png){ .plain style="background:transparent" }

:::

::: { .fragment }

$$
\begin{aligned}
G& = \{ \text{é¡ºæ—¶é’ˆæ—‹è½¬ } 0^\circ, 120^\circ, 240^\circ \} \\
M & = \{ \text{ä¸è€ƒè™‘åŒæ„æ—¶çš„æŸ“è‰²æ–¹æ¡ˆ} \}
\end{aligned}
$$

::: 

::: { .fragment }

![ä¸è€ƒè™‘åŒæ„æ—¶çš„æŸ“è‰²æ–¹æ¡ˆ](./images/ga-example-2.png){ .plain style="background:transparent" }

:::

---

::: { .fragment .fade-out style="height:0" data-fragment-index="1" }

![$G \times M$](images/ga-example-3.png){ .plain style="background:transparent" }

:::

::: { .fragment .current-visible style="height:0" data-fragment-index="1" }

![ç­‰ä»·ç±»ï¼Ÿ](images/ga-example-4.png){ .plain style="background:transparent" }

:::

::: { .fragment .current-visible style="height:0" data-fragment-index="2" }

![ç­‰ä»·ç±»ï¼Ÿ](images/ga-example-5.png){ .plain style="background:transparent" }

:::

::: { .notes }

- å›¾1ï¼š
  - å¯ä»¥çœ‹åˆ° $G \times M$ åå¹¶ä¸ä¼šäº§ç”Ÿæ–°çš„å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯è¯´ $G \times M$ å’Œ $M$ æ˜¯ä¸€æ ·å¤§çš„ã€‚
  - å­˜åœ¨å•ä½ç½®æ¢ï¼ˆæ—‹è½¬ $0^\circ$ï¼‰ä½¿å¾—å®ƒä¸ä»»ä½•ä¸€ä¸ªæŸ“è‰²æ–¹æ¡ˆä½œç”¨éƒ½ä¸å‘ç”Ÿå˜åŒ–ï¼›å¤šä¸ªæ—‹è½¬ä½œç”¨äºæŸ“è‰²æ–¹æ¡ˆä¹Ÿæ˜¯æ»¡è¶³ç»“åˆå¾‹çš„ã€‚æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ç§° $G$ å¯¹ $M$ æœ‰ç¾¤ä½œç”¨ã€‚
- å›¾2ï¼š
  - æ¯”å¦‚æ‰€æœ‰ç½®æ¢ä½œç”¨äºç¬¬äºŒä¸ªæŸ“è‰²æ–¹æ¡ˆï¼Œæˆ‘ä»¬å®é™…ä¸Šå¾—åˆ°çš„å°±æ˜¯ä¸ç¬¬äºŒä¸ªæ–¹æ¡ˆç­‰ä»·çš„æŸ“è‰²æ–¹æ¡ˆï¼Œå¹¶ä¸”æˆ‘ä»¬å¾—åˆ°çš„è¿™äº›æŸ“è‰²æ–¹æ¡ˆéƒ½æ˜¯å­˜åœ¨äºåŸå§‹é›†åˆé‡Œé¢çš„ã€‚

:::

---

![](images/ga-example-6.png){ .plain style="background:transparent" }

- ä¸€ç§ç­‰ä»·å…³ç³»ï¼Ÿ
- å€ŸåŠ©è¯¥ç­‰ä»·å…³ç³»å¯¹é›†åˆè¿›è¡Œåˆ’åˆ†ï¼Ÿ
- æœ‰å¤šå°‘ä¸åŒçš„ç­‰ä»·ç±»ï¼Ÿ

## è½¨é“ { #orbit }

ç¾¤ $G$ ä½œç”¨äºé›†åˆ $M$ ä¸Šï¼Œ$x \in M$ï¼Œç§° $M$ çš„å­é›†

$$
\text{orb}_G(x) = \{ \sigma \circ x \mid \sigma \in G \}
$$

ä¸º $x$ åœ¨ $G$ ä½œç”¨ä¸‹çš„**è½¨é“ (orbit)**ï¼Œç®€ç§°è¿‡ $x$ çš„è½¨é“ã€‚

::: { .fragment }

- $G$ ä¸­ç½®æ¢ä½œç”¨äºå…ƒç´  $x$ æ‰€èƒ½å¾—åˆ°çš„ä¸åŒç»“æœï¼›
- $|\text{orb}_G(x)|$ï¼š å¯¹äºå…ƒç´  $x$ è€Œè¨€ï¼Œ$G$ ä¸­æœ¬è´¨ä¸åŒç½®æ¢çš„ç§æ•°ã€‚

:::

::: { .notes }

å°±æ¯”å¦‚åˆšåˆšå¯¹ä¸‰è§’å½¢ç€è‰²çš„ä¾‹å­é‡Œï¼Œå¯¹äºç¬¬äºŒä¸ªæŸ“è‰²æ–¹æ¡ˆåˆ†åˆ«ç”¨ $0^\circ, 120^\circ, 240^\circ$ çš„æ—‹è½¬ä½œç”¨äºå®ƒï¼Œä¾¿å¯ä»¥å¾—åˆ°è¿‡å®ƒçš„è½¨é“ã€‚

å…¶å®æœ¬è´¨ä¸Šå°±æ˜¯ç­‰ä»·ç±»â€¦â€¦ éƒ¨åˆ†åœ°æ–¹è®°ä½œ $\mathcal{O}_G(x)$ï¼Œä¹Ÿæœ‰çš„åœ°æ–¹ç›´æ¥ç”¨ç­‰ä»·ç±»çš„ç¬¦å· $[x]$ã€‚

:::

---

$$
\text{orb}_G(x) = \{ \sigma \circ x \mid \sigma \in G \}
$$

$$
x \sim y := x \in \text{orb}_G(y)
$$

- **è‡ªåæ€§**ï¼š$x \in \text{orb}_G(x)$ï¼›
- **å¯¹ç§°æ€§**ï¼šè‹¥ $y \in \text{orb}_G(x)$ï¼Œåˆ™ $x \in \text{orb}_G(y)$ï¼›
- **ä¼ é€’æ€§**ï¼šè‹¥ $z \in \text{orb}_G(y), y \in \text{orb}_G(x)$ï¼Œåˆ™ $z \in \text{orb}_G(x)$ã€‚

::: { .notes }

å®šä¹‰å…³ç³» $x \sim y := x \in \text{orb}_G(y)$ï¼Œé‚£ä¹ˆè¿™æ˜¯ä¸€ä¸ªç­‰ä»·å…³ç³»~

ğŸ’¡ æç¤º:

1. æ—¢ç„¶æ˜¯ç½®æ¢ç¾¤ï¼Œå¿…ç„¶æœ‰æ’ç­‰ç½®æ¢ï¼›
2. æ—¢ç„¶ç½®æ¢ç¾¤ä¸­é€†å…ƒå­˜åœ¨ï¼Œæœ‰èƒ½æŠŠ x å˜æˆ y çš„ç½®æ¢åˆ™ä¸€å®šä¹Ÿæœ‰èƒ½æŠŠ y å˜æˆ x çš„ç½®æ¢ï¼›
3. æ—¢ç„¶ç½®æ¢ç¾¤ä¸­çš„è¿ç®—å°é—­ï¼Œè‹¥æœ‰ç½®æ¢èƒ½ä½¿ x -> yï¼Œå¦ä¸€ç½®æ¢èƒ½ä½¿ y -> zï¼Œåˆ™ä¸€å®šæœ‰ä¸€ä¸ªç½®æ¢èƒ½ä½¿ x -> zã€‚

:::

---

- è‹¥ $\text{orb}_G(x) \cap \text{orb}_G(y) \neq \emptyset$ï¼Œåˆ™ $\text{orb}_G(x) = \text{orb}_G(y)$ï¼›
- åœ¨ $M$ çš„æ¯ä¸€æ¡è½¨é“ä¸Šå–ä¸€ä¸ªå…ƒç´ ç»„æˆ $M$ çš„ä¸€ä¸ªå­é›† $R$ï¼Œç§°ä¸º $M$ çš„**è½¨é“çš„ä»£è¡¨å…ƒé›†**ï¼Œåˆ™ï¼š

  $$
  M = \bigcup\limits_{x \in R} \text{orb}_G(x)
  $$

  å¹¶ä¸”æ­¤ä¸­å„ $\text{orb}_G(x)$ äº’ä¸ç›¸äº¤ã€‚


## ç¨³å®šå­ { #stabilizer }

è®¾ç¾¤ $G$ ä½œç”¨äºé›†åˆ $M$ï¼Œå¯¹ $x \in M$ï¼Œç§°

$$
\text{stab}_G(x) = \{ \sigma \mid \sigma \in G, \sigma \circ x = x \}
$$

ä¸ºç¾¤ $G$ ä½œç”¨ä¸‹ $x$ çš„**ç¨³å®šå­ (stabilizer)**ã€‚

::: { .fragment }

- æ‰€æœ‰ä½œç”¨äº $x$ åç»“æœä»ç„¶ä¸º $x$ çš„ç½®æ¢ã€‚

:::

::: { .notes }

ç¨³å®šå­é‡Œé¢çš„å…ƒç´ éƒ½æ˜¯ç½®æ¢ï¼Œé›†åˆ $M$ é‡Œé¢æŸä¸ªå…ƒç´ çš„ç¨³å®šå­åŒ…å«æ‰€æœ‰ä½¿å®ƒä¸å‘ç”Ÿå˜åŒ–çš„ç½®æ¢ã€‚

åˆç§°å›ºå®šå­ç¾¤ã€ç¨³å®šå­ç¾¤ã€ç¨³å®šåŒ–å­â€¦â€¦ æœ‰çš„åœ°æ–¹ä¹Ÿå†™æˆ $G_m$ æˆ– $G^m$ã€‚

:::

---

![$G \times M$](images/ga-example-3.png){ .plain style="background:transparent" }

::: { .notes }

å¯¹äºç¬¬ä¸€ç§å’Œæœ€åä¸€ç§æŸ“è‰²æ–¹æ¡ˆè€Œè¨€ï¼Œå…¶ç¨³å®šå­é‡Œé¢çš„å…ƒç´ å°±æ˜¯ä¸‰ä¸ªç½®æ¢ï¼Œè€Œå¯¹äºå…¶ä»–æŸ“è‰²æ–¹æ¡ˆç¨³å®šå­éƒ½åªæœ‰ä¸€ä¸ªï¼Œå°±æ˜¯æ—‹è½¬ $0^\circ$ çš„ç½®æ¢ã€‚

:::

---

$$
\text{stab}_G(x) = \{ \sigma \circ x = x \mid \sigma \in G \} \le G
$$

::: { .fragment }

- **å°é—­æ€§**ï¼š$\forall \sigma, \tau \in \text{stab}_G(x)$ï¼Œ$\sigma \circ \tau \circ x = \sigma \circ x = x$ï¼Œæ•… $(\sigma \circ \tau) \in \text{stab}_G(x)$ï¼›
- **ç»“åˆå¾‹**ï¼šæ˜¾ç„¶ç½®æ¢çš„å¤åˆæ»¡è¶³ç»“åˆå¾‹ï¼›
- **å•ä½å…ƒ**ï¼šæ’ç­‰ç½®æ¢ $\epsilon \circ x = x$ï¼›
- **é€†å…ƒ**ï¼š$\forall \sigma \in \text{stab}_G(x)$ï¼Œ$\sigma^{-1} \circ x = \sigma^{-1} \circ (\sigma \circ x) = \epsilon(x) = x$ã€‚

:::

---

$$
\text{stab}_G(x) = \{ \sigma \circ x = x \mid \sigma \in G \} \le G
$$

::: { .fragment .current-visible style="height:0" data-fragment-index="1"  }

- æ—¢ç„¶æ˜¯å­ç¾¤ï¼Œé‚£å¯ä»¥ç”¨æ¥å¯¹ $G$ è¿›è¡Œå·¦é™ªé›†åˆ’åˆ†ï¼›

:::

::: { .fragment data-fragment-index="2" }

- $\beta \text{stab}_G(x)$ é‡Œçš„å…ƒç´ ç›¸å½“äºä½œç”¨äº $x$ æ—¶ $G$ ä¸­æ‰€æœ‰ä¸ $\beta$ ç­‰ä»·çš„ç½®æ¢ï¼š

:::

::: { .fragment .current-visible style="height:0" data-fragment-index="2" }

$$
\beta \text{stab}_G(x) = \{ (\beta \circ \sigma) \circ x = \beta \circ x \mid \sigma \in G \}
$$

:::

::: { .fragment data-fragment-index="3" }

$$
\beta \text{stab}_G(x) = \{ \tau \circ x = \beta \circ x \mid \tau \in G \}
$$

:::

::: { .fragment data-fragment-index="4" }

$$
|G| = |\text{stab}_G(x)| \cdot [G:\text{stab}_G(x)]
$$

- $|\text{orb}_G(x)|$ï¼šå¯¹ $x$ è€Œè¨€ï¼Œ$G$ ä¸­æ‰€æœ‰æœ¬è´¨ä¸åŒç½®æ¢ç§æ•°ã€‚
  - ä¹Ÿå°±æ˜¯ä¸åŒçš„ä¸Šè¿°é™ªé›†çš„ç§æ•°ï¼

:::

## è½¨é“-ç¨³å®šå­å®šç† { #orbit-stabilizer-theorem }

è®¾æœ‰é™ç¾¤ $G$ ä½œç”¨äºé›†åˆ $M$ ï¼Œ$x \in M$ï¼Œåˆ™ï¼š

$$
|G| = \mid \text{stab}_G(x) \mid \cdot \mid \text{orb}_G(x) \mid
$$

# Burnside å¼•ç† { #burnside-lemma }

è®¾æœ‰é™ç¾¤ $G$ ä½œç”¨äºæœ‰é™é›† $M$ ä¸Šï¼Œåˆ™è½¨é“æ•°ï¼š

$$
| M/G | = \frac{1}{|G|} \sum\limits_{\sigma \in G} |\text{fix}(\sigma)|
$$

å…¶ä¸­ $\text{fix}(\sigma)$ ä»£è¡¨ $\sigma$ çš„ä¸åŠ¨å…ƒæ„æˆçš„é›†åˆï¼š

$$
\text{fix}(\sigma) = \{ x \mid x \in M, \sigma \circ x = x \}
$$

## è¯æ˜ { #proof-of-burnside-lemma }

$$
\begin{aligned}
\text{stab}_G(x) & = \{ \sigma \mid \sigma \in G, \sigma \circ x = x \} \\
\text{fix}(\sigma) & = \{ x \mid x \in M, \sigma \circ x = x \}
\end{aligned}
$$

$$
\sum\limits_{x \in M} \mid \text{stab}_G(x) \mid = \sum\limits_{\sigma \in G} \mid \text{fix}(\sigma) \mid
$$

::: { .notes }

ç¨³å®šå­æ˜¯å›ºå®š $x$ æ‰¾ $\sigma$ï¼Œè€Œä¸åŠ¨å…ƒæ˜¯å›ºå®š $\sigma$ æ‰¾ $m$ï¼Œæ•…å¯¹äºä¸‹é¢çš„ç­‰å¼ä¸¤è¾¹æœ¬è´¨ä¸Šåªæ˜¯æ¢äº†ä¸€ä¸‹éå†çš„é¡ºåºã€‚

:::

---

- æ¯ä¸ªè½¨é“å¯¹è½¨é“æ•°è´¡çŒ®ä¸º $1$ï¼Œæ•… $x \in M$ å¯¹ç­”æ¡ˆçš„è´¡çŒ®ä¸º $\frac{1}{\mid \text{orb}_G(x) \mid}$ï¼š

$$
  \begin{aligned}
  | M/G | 
  & = \sum\limits_{x \in M} \frac{1}{ \mid \text{orb}_G(x) \mid } \\
  & = \sum\limits_{x \in M}\frac{ \mid \text{stab}_G(x) \mid }{ |G| } \text{ï¼ˆè½¨é“-ç¨³å®šå­å®šç†ï¼‰} \\
  & = \frac{1}{|G|}\sum\limits_{\sigma \in G} \mid \text{fix}(\sigma) \mid
  \end{aligned}
$$

---

å¯¹æ­£å…­è¾¹å½¢çš„ $6$ ä¸ªé¡¶ç‚¹ï¼Œä¸€åŠæ¶‚é»‘ä¸€åŠæ¶‚ç™½ã€‚è‹¥ç»æ—‹è½¬å¯å¾—åˆ°çš„æ–¹æ¡ˆç®—ç›¸åŒæ–¹æ¡ˆï¼Œæ±‚æ–¹æ¡ˆæ•°ï¼Ÿ

::: { .fragment }

$$
M = \{ \text{ä¸è®¡åŒæ„çš„æ¶‚è‰²æ–¹æ¡ˆ} \} \enspace |M| = \binom{6}{3} = 20
$$

$$
G = \{ \text{é¡ºæ—¶é’ˆæ—‹è½¬} 0^\circ, 60^\circ, 120^\circ, 180^\circ, 240^\circ, 300^\circ \} \\
$$

è®° $6$ ä¸ªé¡¶ç‚¹åˆ†åˆ«ä¸º $A_1, A_2, \dots, A_6$

:::

---

### æ—‹è½¬ $0^\circ$

$$
\left(\begin{array}{c} 
A_1 & A_2 & A_3 & A_4 & A_5 & A_6 \\ 
A_1 & A_2 & A_3 & A_4 & A_5 & A_6 
\end{array}\right)
$$

å°†è¿™ä¸€ç½®æ¢ä½œç”¨äº $M$ ä¸­çš„ä»»æ„å…ƒç´ éƒ½ä¸ä¼šä½¿è¯¥å…ƒç´ å‘ç”Ÿå˜åŒ–ï¼Œæ•…ä¸åŠ¨å…ƒæœ‰ $20$ ä¸ªã€‚

---

### æ—‹è½¬ $60^\circ$

$$
\left(\begin{array}{c} 
A_1 & A_2 & A_3 & A_4 & A_5 & A_6 \\ 
A_6 & A_1 & A_2 & A_3 & A_4 & A_5 
\end{array}\right)
$$

è‹¥è¦æˆä¸ºä¸åŠ¨å…ƒï¼Œåˆ™åº”å½“æ»¡è¶³ï¼š

$$
A_1 = A_2 = \dots = A_6
$$

æ•…æ²¡æœ‰ä¸åŠ¨å…ƒ

---

### æ—‹è½¬ $120^\circ$

$$
\left(\begin{array}{c} 
A_1 & A_2 & A_3 & A_4 & A_5 & A_6 \\ 
A_5 & A_6 & A_1 & A_2 & A_3 & A_4 
\end{array}\right)
$$

è‹¥è¦æˆä¸ºä¸åŠ¨å…ƒï¼Œåˆ™åº”å½“æ»¡è¶³ï¼š

$$
A_1 = A_3 = A_5, \ A_2 = A_4 = A_6
$$

æ•…ä¸åŠ¨å…ƒæ•°é‡ä¸º $2$

---

### æ—‹è½¬ $180^\circ$

$$
\left(\begin{array}{c} 
A_1 & A_2 & A_3 & A_4 & A_5 & A_6 \\ 
A_4 & A_5 & A_6 & A_1 & A_2 & A_3 
\end{array}\right)
$$

è‹¥è¦æˆä¸ºä¸åŠ¨å…ƒï¼Œåˆ™åº”å½“æ»¡è¶³ï¼š

$$
A_1 = A_4, \ A_2 = A_5, \ A_3 = A_6
$$

æ•…æ²¡æœ‰ä¸åŠ¨å…ƒ

---

- æ—‹è½¬ $60^\circ$ ä¸ æ—‹è½¬ $300^\circ$ æƒ…å½¢ç›¸ä¼¼ï¼›
- æ—‹è½¬ $120^\circ$ ä¸ æ—‹è½¬ $240^\circ$ æƒ…å½¢ç›¸ä¼¼ã€‚

è½¨é“æ•°ï¼š$\frac{1}{6}(20 + 2 + 2) = 4$



# PÃ³lya è®¡æ•°å®šç† { #polya-enumeration-theorem }

- å°†ç½®æ¢è¡¨ç¤ºä¸ºè‹¥å¹²è½®æ¢ä¹˜ç§¯ï¼Œè‹¥è½®æ¢å†…å…ƒç´ é¢œè‰²å‡ç›¸åŒå³ä¸ºä¸åŠ¨å…ƒï¼ˆè¿™æ ·æ‰èƒ½ä¿è¯æ¯ä¸€ä¸ªç‚¹å˜æˆæ–°ç‚¹åçš„é¢œè‰²ä¸åŸå…ˆä¸€è‡´ï¼‰ï¼›
- è®°æŸ“è‰²å¯é€‰çš„é¢œè‰²æ•°ä¸º $m$ï¼Œ $c(\sigma)$ ä¸ºç½®æ¢ $\sigma$ è¢«åˆ†è§£ä¸ºä¸äº¤è½®æ¢ä¹˜ç§¯çš„ä¸ªæ•°ï¼Œåˆ™ï¼š

  ::: { .fragment .current-visible style="height:0" }
  
  $$
  \text{fix}(\sigma) = m^{c(\sigma)}
  $$
  :::

  ::: { .fragment }

  $$
  | M/G | = \frac{1}{|G|} \sum\limits_{\sigma \in G} m^{c(\sigma)}
  $$

  :::

::: { .notes }

å‰é¢è®²åˆ°äº†ç½®æ¢ $\sigma$ å¯ä»¥è¢«æ‹†æˆè‹¥å¹²ä¸ªé•¿åº¦ç›¸ç­‰çš„æ˜ å°„é“¾ï¼Œä¹Ÿå°±æ˜¯è‹¥å¹²ä¸ªå¤§å°ç›¸ç­‰çš„è½®æ¢ã€‚è€ƒè™‘åœ¨åŸå§‹çš„ï¼ˆä¸è€ƒè™‘åŒæ„ï¼‰çš„æŸ“è‰²æ–¹æ¡ˆé›†åˆé‡Œï¼Œä»€ä¹ˆæ ·çš„å…ƒç´ ä¼šæˆä¸ºç½®æ¢ $\sigma$ çš„ä¸‹çš„ä¸åŠ¨å…ƒï¼Ÿ

æ˜¯ä¸æ˜¯åªè¦æ¯ä¸ªè½®æ¢å†…çš„ç‚¹æˆ‘æŸ“çš„é¢œè‰²éƒ½ä¸€æ ·ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å°±æˆä¸ºä¸åŠ¨å…ƒäº†â€¦â€¦ é‚£ä¹ˆæ ¹æ®ä¹˜æ³•åŸç†å°±å¯ä»¥å¾—åˆ° PÃ³lya è®¡æ•°å®šç†äº†ã€‚

:::

# å°ç»“ { #a-breif-summary }

- [å…³ç³»](#relation) | [ç­‰ä»·å…³ç³»](#equivalence-relation) | [ç­‰ä»·ç±»](#equivalence-class)
  - å¯¹é›†åˆåˆ†ç±»ï¼šç­‰ä»·ç±» $[a]$ å†…çš„å…ƒç´ éƒ½ä¸å­˜åœ¨ $a$ ç­‰ä»·å…³ç³»ï¼›
- [ç¾¤](#group) | [å­ç¾¤](#subgroup) | [é™ªé›†](#coset)
  - å¯¹ç¾¤åˆ†ç±»ï¼šé™ªé›† $gH$ é‡Œçš„æ‰€æœ‰å…ƒç´ éƒ½ä¸ $g$ å­˜åœ¨ç­‰ä»·å…³ç³»ï¼›
- [ç¾¤åœ¨é›†åˆä¸Šçš„ä½œç”¨](#group-action)
  - [è½¨é“](#orbit)ï¼š$M$ çš„å­é›†ï¼Œåœ¨ $G$ ä½œç”¨ä¸‹ä¸ $x$ ç­‰ä»·çš„å…ƒç´ ï¼›
  - [ç¨³å®šå­](#stabilizer)ï¼š$G$ çš„å­ç¾¤ï¼Œå¯¹äº $x$ è€Œè¨€ $G$ ä¸­ç­‰ä»·çš„ç½®æ¢ï¼›
  - [è½¨é“-ç¨³å®šå­å®šç†](#orbit-stabilizer-theorem) | [Burnside å¼•ç†](#burnside-lemma) | [PÃ³lya è®¡æ•°æ³•](#polya-enumeration-theorem)

# é¡¹é“¾æŸ“è‰² { #coloring-necklace }

é•¿ä¸º $n$ çš„ç¯ï¼Œ$m$ ç§é¢œè‰²å¯¹ç¯ä¸Šå…ƒç´ æŸ“è‰²ï¼Œç»æ—‹è½¬æˆ–ç¿»è½¬éƒ½ç®—ä½œç›¸åŒæ–¹æ¡ˆ

$n, m \le 10^9$

::: { .notes }

è¿™é‡Œå°†ä¹‹å‰å¯¹å¤šè¾¹å½¢é¡¶ç‚¹æŸ“è‰²é—®é¢˜ä¸€èˆ¬åŒ–ã€‚

:::

---

## åˆ†æ { #cn-analysis }

$$
\begin{aligned}
G & = \{ \text{é¡ºæ—¶é’ˆæ—‹è½¬} \frac{2\pi}{n}, \dots, (n - 1)\frac{2\pi}{n}, 2\pi, \\
& \text{è¿‡æ¯ä¸€æ¡å¯¹ç§°è½´çš„ç¿»è½¬ } \} \\
M & = \{ \text{ä¸è€ƒè™‘åŒæ„çš„æ‰€æœ‰æŸ“è‰²æ–¹æ¡ˆ}  \}
\end{aligned}
$$

$G$ ä½œç”¨äº $M$

::: { .fragment }

$G$ ä¸­å¤åˆè¿ç®—å°é—­å—ï¼Ÿ

:::

---

è‹¥å°†ç¯ä¸Šçš„å…ƒç´ æŒ‰é¡ºæ—¶é’ˆç¼–å·ï¼š$0, 1, \dots (n - 1)$

- é¡ºæ—¶é’ˆæ—‹è½¬ $k \frac{2\pi}{n}$ï¼š$\sigma_k(i) = (i + k) \bmod n$ï¼›
- æ²¿è¿‡ç‚¹ $a$ çš„å¯¹ç§°è½´ç¿»è½¬ï¼š
  $$
  \tau_a(i) =
  \begin{cases}
  i & i = a \text{ \ or \ } a \text{ å¯¹é¢çš„ç‚¹ } \\
  (2a - i) \bmod n & \text{ otherwise } 
  \end{cases}
  $$

::: { .fragment .current-visible style="height:0" }

- æ³¨ï¼šè‹¥ $n$ ä¸ºå¶æ•°ï¼Œåˆ™ç¿»è½¬å¯¹ç§°è½´å¯èƒ½åŒæ—¶è¿‡ä¸¤æ¡è¾¹çš„ä¸­ç‚¹ã€‚è¿™ç­‰åŒäºå…±æœ‰ $2n$ ä¸ªç‚¹ä¸”ä¸è€ƒè™‘æ­¤ç±»å¯¹ç§°è½´çš„æƒ…å†µï¼Œæ•…ä¸‹é¢æš‚ä¸è€ƒè™‘è¿™ç§å¯¹ç§°è½´ã€‚

:::

::: { .fragment .current-visible style="height:0" }

- è€ƒè™‘ $i \neq a$ çš„æƒ…å†µï¼ˆ$i = a$ æ˜¾ç„¶å°é—­ï¼‰ï¼Œè‹¥ $2 \mid k$ï¼š
$$
\sigma_k \circ \tau_a \circ i = (2a - i + k) \bmod n = \tau_{(a + \frac{k}{2}) \bmod n}
$$

:::

::: { .fragment }

- è€ƒè™‘ $i \neq a$ çš„æƒ…å†µï¼ˆ$i = a$ æ˜¾ç„¶å°é—­ï¼‰ï¼Œè‹¥ $2 \nmid k$ï¼š
$$
\sigma_k \circ \tau_a \circ i = (2a - i + k) \bmod n = \tau_{(a + \frac{n + k}{2}) \bmod n}
$$

:::


::: { .notes }

$n$ ä¸ºå¶æ•°æ—¶ï¼Œå¯¹ç§°è½´è¿‡ä¸¤ä¸ªç‚¹ï¼›è€Œ $n$ ä¸ºå¥‡æ•°æ—¶ï¼Œå¯¹ç§°è½´è¿‡ä¸€ä¸ªç‚¹å’Œä¸€æ¡è¾¹ã€‚

å¦å¤– å¯¹äº $n$ ä¸ºå¶æ•°æ—¶ï¼Œç”±äºå¯¹ç§°è½´å¯ä»¥åŒæ—¶è¿‡ä¸¤æ¡è¾¹ï¼Œå› æ­¤è€ƒè™‘çš„æ—¶å€™ä¸å¦¨åœ¨æ¯æ¡è¾¹ä¸­é—´å†åŠ ä¸€ä¸ªç‚¹ï¼Œå³è€ƒè™‘ $2n$ ä¸ªç‚¹å›´æˆçš„ç¯åªè¿‡ç‚¹çš„å¯¹ç§°è½´â€¦â€¦ ï¼ˆå› ä¸ºä¸Šé¢åªè¯´æ˜äº†è¿‡ç‚¹çš„å¯¹ç§°è½´ï¼Œæ‰€ä»¥ä¸å¦¨è¿™ä¹ˆç†è§£qwqï¼‰ã€‚

å¯èƒ½æœ‰ç‚¹ä¸ä¸¥å¯†ï¼Œå¤§å®¶è‡ªå·±æ¨ä¸€æ¨åº”è¯¥ä¹Ÿèƒ½å‘ç°æ˜¯æ­£ç¡®çš„ï¼ˆé€ƒ

:::

---

## æ—‹è½¬ { #cn-rotation }

- æ—‹è½¬ç½®æ¢ä¸€å…± $n$ ç§ï¼›
- æ—‹è½¬ $\frac{2\pi}{n}$ æ—¶åªèƒ½åˆ†è§£æˆä¸€ä¸ªä¸äº¤è½®æ¢ï¼›
- æ—‹è½¬ $i \frac{2\pi}{n}$ å¯çœ‹ä½œå‰è€…çš„ $i$ æ¬¡å¹‚ï¼Œæ•…å¯æ‹†æˆ $\gcd(n, i)$ ä¸ªè½®æ¢ï¼š

$$
\sum\limits_{\sigma} \mid \text{fix}(\sigma) \mid = \sum\limits_{i = 1}^{n} m^{\gcd(n, i)}
$$

::: { .notes }

æ—‹è½¬ $\frac{2\pi}{n}$ æ—¶æ˜¾ç„¶åªèƒ½æ‹†æˆä¸€ä¸ªè½®æ¢ã€‚å›å¿†å‰é¢å…³äºå¿«é€Ÿæ±‚è½®æ¢å¹‚çš„ç›¸å…³å†…å®¹ã€‚

ç„¶è€Œç°åœ¨å¤æ‚åº¦æ˜¯ $\mathcal{O}(N)$ çš„ï¼Œéœ€è¦å€ŸåŠ©æ•°è®ºçŸ¥è¯†è¿›ä¸€æ­¥ä¼˜åŒ–â€¦â€¦

:::

---

$$
\begin{aligned}
\sum\limits_{g \in G} \mid \text{fix}(\sigma) \mid 
& = \sum\limits_{i = 1}^{n} m^{\gcd(n, i)} \\
& = \sum\limits_{d \mid n} m^d \sum\limits_{i = 1}^{n} [ \gcd(n, i) = d ] \\
& =\sum\limits_{d \mid n} m^d \sum\limits_{i = 1}^{\frac{n}{d}} [ \gcd(\frac{n}{d}, i) = 1 ] \\
& = \sum\limits_{d \mid n} m^d \cdot \varphi(\frac{n}{d})
\end{aligned}
$$

---

## ç¿»è½¬ { #cn-flipping }

- ç¿»è½¬ç½®æ¢ä¸€å…± $n$ ç§ã€‚
- $n$ ä¸ºå¶æ•°ï¼š
  - $\frac{n}{2}$ æ¡è¿‡ç‚¹çš„å¯¹ç§°è½´ï¼š$c(\tau) = \frac{n}{2} + 1$
  - $\frac{n}{2}$ æ¡è¿‡è¾¹çš„å¯¹ç§°è½´ï¼š$c(\tau) = \frac{n}{2}$
$$
\sum\limits_{\tau} \mid \text{fix}(\tau) \mid 
= \frac{n}{2} \cdot m^{\frac{n}{2} + 1} + \frac{n}{2} \cdot m^{\frac{n}{2}} 
$$

---

- $n$ ä¸ºå¥‡æ•°ï¼š
  - $n$ æ¡ æ—¢è¿‡ç‚¹åˆè¿‡è¾¹çš„å¯¹ç§°è½´ï¼š$c(\tau) = \frac{n + 1}{2}$

  $$
  \sum\limits_{\tau} \mid \text{fix}(\tau) \mid 
= n \cdot m^{\frac{n + 1}{2}}
  $$

## ç»“è®º { #cn-finale }

$$
\begin{aligned}
| M/G | & = \frac{\sum\limits_{\sigma} \mid \text{fix}(\sigma) \mid + \sum\limits_{\tau} \mid \text{fix}(\tau) \mid}{2n} \\
& = \frac{1}{2n}\sum\limits_{d \mid n} m^d \cdot \varphi(\frac{n}{d}) \\
& + \frac{1}{2n} \begin{cases}
\frac{n}{2} \cdot m^{\frac{n}{2} + 1} + \frac{n}{2} \cdot m^{\frac{n}{2}} & 2 \mid n \\
n \cdot m^{\frac{n + 1}{2}} & 2 \nmid n
\end{cases}
\end{aligned}
$$

å¤æ‚åº¦ï¼š$\mathcal{O}(d(n) \cdot \sqrt{n})$ï¼Œ$d(n)$ ä»£è¡¨ $n$ çš„çº¦æ•°ä¸ªæ•°ã€‚

# å—æ˜Œ J. Summon { #icpc-2019-nanchang-j }

ç°è¦ä» $4$ ç§ä¸åŒçš„æ°´æ™¶ä¸­å– $n$ ä¸ªå›´æˆä¸€ä¸ªåœˆï¼Œä½†æœ‰ $m$ ä¸ªé™åˆ¶æ¡ä»¶ï¼šæ¯æ¡é™åˆ¶æ¡ä»¶è¦æ±‚æŸå››ç§æ°´æ™¶ä¸èƒ½åœ¨å›´æˆçš„åœˆä¸­è¿ç»­å‡ºç°ã€‚é€šè¿‡æ—‹è½¬å¯äº’ç›¸å¾—åˆ°çš„æ–¹æ¡ˆç®—ä½œä¸€ç§æ–¹æ¡ˆï¼Œé—®æœ‰å¤šå°‘ç§æœ¬è´¨ä¸åŒçš„æ–¹æ¡ˆï¼Ÿï¼ˆç»“æœæ¨¡ $998244353$ï¼‰

$n \le 10^5, m \le 256$

::: { .notes }

è¿™å…¶å®æ˜¯å»å¹´è€åˆ˜ä¸“é¢˜é‡Œé¢ä¸€é“é¢˜çš„ç¨å¾®åŠ å¼ºç‰ˆâ€¦â€¦ åŸé¢˜æ˜¯è¦æ±‚æŸä¸¤ç§ä¸èƒ½è¿ç»­ï¼Œè¿™é‡Œæ”¹æˆäº†æŸå››ç§â€¦â€¦ï¼ˆPOJ 2888ï¼‰

:::

## åˆ†æ { #ncj-analysis }

$$
\begin{aligned}
G & = \{ \text{é¡ºæ—¶é’ˆæ—‹è½¬} \frac{2\pi}{n}, \dots, (n - 1)\frac{2\pi}{n}, 2\pi \} \\
M & = \{ \text{æ»¡è¶³é™åˆ¶ä¸”ä¸è®¡åŒæ„çš„æŸ“è‰²æ–¹æ¡ˆ} \}
\end{aligned}
$$

::: { .fragment }

- å•å•æŠŠæ¯ä¸€ä¸ªè½®æ¢å†…çš„æ‰€æœ‰å…ƒç´ æŸ“æˆç›¸åŒé¢œè‰²å¯èƒ½ç ´åé™åˆ¶æ¡ä»¶ï¼›
- æ— æ³•ç›´æ¥åº”ç”¨ PÃ³lya è®¡æ•°å®šç†ã€‚

:::

::: { .notes }

ä¹‹å‰è¯´ PÃ³lya è®¡æ•°å®šç†çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯åŸºäºåŒä¸€ä¸ªè½®æ¢å†…çš„æ‰€æœ‰å…ƒç´ éƒ½æŸ“è‰²æˆåŒä¸€ä¸ªé¢œè‰²å¾—å‡ºçš„ã€‚åœ¨è¿™é“é¢˜ç›®é‡Œï¼Œä¸åŠ¨å…ƒä¸ä»…è¦æ»¡è¶³è½®æ¢å†…å…ƒç´ é¢œè‰²ç›¸ç­‰ï¼ŒåŒæ—¶åœ¨è¿™ä¸€å‰æä¸‹è¿˜è¦æ»¡è¶³é™åˆ¶æ¡ä»¶ã€‚æˆ‘ä»¬è™½ç„¶æ²¡æœ‰åŠæ³•ç›´æ¥å¥—ç”¨ PÃ³lyaï¼Œä½†æ˜¯åªè¦èƒ½å¤Ÿæ±‚å‡ºä¸åŠ¨ç‚¹å€ŸåŠ© Burnside å¼•ç†è¿˜æ˜¯èƒ½å¤Ÿè§£å†³é—®é¢˜çš„â€¦â€¦

:::

---

- æ—‹è½¬ $\frac{2\pi}{n}$ åªèƒ½åˆ†è§£æˆä¸€ä¸ªä¸äº¤è½®æ¢ï¼›
- æ—‹è½¬ $i \frac{2\pi}{n}$ å¯çœ‹ä½œå‰è€…çš„ $i$ æ¬¡å¹‚ï¼Œå› æ­¤ï¼š
  - å¯è¡¨ç¤ºä¸º $\gcd(n, i)$ ä¸ªä¸äº¤è½®æ¢ä¹‹ç§¯ï¼›
  - æ ‡å·æ¨¡ $\gcd(n, i)$ ç»“æœç›¸åŒçš„ç‚¹åœ¨åŒä¸€è½®æ¢å†…ã€‚

::: { .fragment }

**å¯¹äºæ—‹è½¬ $i \frac{2\pi}{n}$ è¿™ä¸€ç½®æ¢ï¼Œåªéœ€ç¡®å®šå‰ $\gcd(n, i)$ ä¸ªå…ƒç´ çš„é¢œè‰²å³å¯çŸ¥é“è¯¥ç½®æ¢ä¸‹ä¸åŠ¨å…ƒæ•°é‡ï¼**

:::

::: { .notes }

æ¢å¥è¯è¯´ï¼Œå‰ $\gcd(n, i)$ ä¸ªå…ƒç´ ä¸€å®šæ˜¯ä½äºä¸åŒè½®æ¢å†…çš„ã€‚å¯¹äºä¸åŠ¨ç‚¹è€Œè¨€ï¼Œæ—¢ç„¶åŒä¸€è½®æ¢å†…æŸ“è‰²æ–¹æ¡ˆä¸€è‡´ï¼Œé‚£ä¹ˆæ•´ä¸ªæŸ“è‰²æ–¹æ¡ˆå®Œå…¨å°±æ˜¯ç”±å‰ $\gcd(n, i)$ ä¸ªå…ƒç´ ä¸€ç›´å¾€åå¤åˆ¶è¿™æ ·ç”Ÿæˆçš„ï¼ˆé€ƒ

å¯ä»¥è€ƒè™‘ DPã€‚

:::

## DP æ±‚ä¸åŠ¨å…ƒæ•°é‡ { #ncj-dp }

- è®° $\text{v} \langle a, b, c, d \rangle$ ä»£è¡¨æ˜¯å¦å…è®¸ $a, b, c, d$ å››ç§é¢œè‰²ç›¸é‚»ï¼›

$$
\text{v} \langle a, b, c, d \rangle =
\begin{cases}
0 & \text{ä¸å…è®¸ } a, b, c, d \text{ ç›¸é‚»} \\
1 & \text{å…è®¸ } a, b, c, d \text{ ç›¸é‚»}
\end{cases}
$$

---

- è®° $\text{dp} \langle i, a, b, c \rangle$ ä»£è¡¨ $i$ ä¸ªå…ƒç´ æ’æˆä¸€æ’ï¼Œæœ€å $3$ ä¸ªå…ƒç´ çš„é¢œè‰²åˆ†åˆ«ä¸º $a, b, c$ çš„æ–¹æ¡ˆæ•°ï¼š
  $$
  \text{dp} \langle i, a, b, c \rangle = \sum\limits_{k} \text{v} \langle k, a, b, c \rangle \cdot \text{dp} \langle i - 1, k, a, b \rangle
  $$

::: { .fragment }

- æšä¸¾å‰ $3$ ä¸ªå…ƒç´ çš„é¢œè‰² $\langle a, b, c \rangle$ï¼š
  - åªåˆå§‹åŒ– $\text{dp} \langle 3, a, b, c \rangle = 1$ï¼›
  - $\text{dp} \langle m + 3, a, b, c \rangle$ å³ä¸º $m$ ä¸ªå…ƒç´ å›´æˆç¯æ—¶ä¸åŠ¨å…ƒæ–¹æ¡ˆæ•°ã€‚

:::

::: { .notes }

å¯¹äºç¯ä¸Šçš„é—®é¢˜ä¸æ–¹ä¾¿è€ƒè™‘çš„è¯ä¸å¦¨å…ˆæ‹†æˆé“¾ä¸Šçš„é—®é¢˜è€ƒè™‘ï¼ˆå°±ä¸ç”¨è€ƒè™‘é¦–å°¾æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼‰â€¦â€¦ 

æœ€åè¦è€ƒè™‘é¦–å°¾çš„æƒ…å†µçš„æ—¶å€™ï¼Œä¸å¦¨åœ¨å°¾å¤š DP ä¸‰ä¸ªå…ƒç´ ï¼Œç„¶ååªå–é¦–ä¸‰ä¸ªå…ƒç´ ä¸æœ«ä¸‰ä¸ªå…ƒç´ ç›¸åŒçš„æ–¹æ¡ˆã€‚

è¿™æ ·åšä¸€æ¬¡ DP å¤æ‚åº¦æ˜¯ $\mathcal{O}(64^3 N)$ çš„â€¦â€¦ è€Œä¸”å¯¹äºæ¯ä¸€ç§ç½®æ¢éƒ½è¦åšä¸€æ¬¡â€¦â€¦ æ˜¾ç„¶å¤æ‚åº¦ä¸å¯ä»¥æ¥å—ã€‚

çœ‹çœ‹èƒ½ä¸èƒ½ç”¨çŸ©é˜µå¿«é€Ÿå¹‚ä¼˜åŒ–ã€‚

:::

## çŸ©é˜µå¿«é€Ÿå¹‚ä¼˜åŒ– DP { #ncj-matrix-fastpow }

$$
  \text{dp} \langle i, a, b, c \rangle = \sum\limits_{k} \text{v} \langle k, a, b, c \rangle \cdot \text{dp} \langle i - 1, k, a, b \rangle
$$

$$
\begin{aligned}
  \begin{bmatrix}
    \text{dp} \langle i, 1, 1, 1 \rangle \\
    \text{dp} \langle i, 1, 1, 2 \rangle \\
    \vdots \\
    \text{dp} \langle i, 4, 4, 4 \rangle
  \end{bmatrix}
\end{aligned}
= T \cdot
\begin{aligned}
  \begin{bmatrix}
    \text{dp} \langle i - 1, 1, 1, 1 \rangle \\
    \text{dp} \langle i - 1, 1, 1, 2 \rangle \\
    \vdots \\
    \text{dp} \langle i - 1, 4, 4, 4 \rangle
  \end{bmatrix}
\end{aligned}
$$

::: { .fragment .current-visible style="height:0" }

$$
\text{dp} \langle i, a, b, c \rangle = \sum\limits_{\langle j, k, l \rangle} T[a, b, c][j, k, l] \cdot \text{dp} \langle i - 1, j, k, l \rangle
$$

:::

::: { .fragment }

$$
T[ a, b, c ][ k, a, b ] = \text{v} \langle k, a, b, c \rangle
$$

:::

::: { .notes }

å¯ä»¥æŠŠåä¸‰ä¸ªè¿ç»­é¢œè‰² $<a, b, c>$ çœ‹å‡ºä¸€ä¸ªå¯ä»¥ç”¨ $0 \sim 63$ è¡¨ç¤ºçš„ä¸€ä¸ªçŠ¶æ€ï¼Œå°±æ›´å¥½ç†è§£äº†â€¦â€¦

$T$ ä¸­å…¶ä½™å…ƒç´ éƒ½æ˜¯ $0$ã€‚

:::

---

- æšä¸¾å‰ä¸‰ $3$ ä¸ªå…ƒç´ çš„é¢œè‰² $\langle a, b, c \rangle$ æ—¶ï¼Œåˆå§‹åŒ–ï¼š
$$
\begin{aligned}
  \begin{bmatrix}
    1 \\
    0 \\
    \vdots \\
    0
  \end{bmatrix}
\end{aligned},
\begin{aligned}
  \begin{bmatrix}
    0 \\
    1 \\
    \vdots \\
    0
  \end{bmatrix}
\end{aligned},
\dots, 
\begin{aligned}
  \begin{bmatrix}
    0 \\
    0 \\
    \vdots \\
    1
  \end{bmatrix}
\end{aligned}
$$
- ç­‰ä»·äº $T^{n}$ ç›´æ¥ä¹˜ä¸Šå•ä½çŸ©é˜µï¼›
- $T^{n}$ ä¸»å¯¹è§’çº¿å…ƒç´ ä¹‹å’Œå³ä¸ºæ‰€æœ‰ä¸åŠ¨å…ƒæ•°é‡ã€‚

::: { .notes }

ç½®æ¢ $\sigma$ ä¸‹ä¸åŠ¨å…ƒçš„ä¸ªæ•°åªè·Ÿå…¶èƒ½è¢«åˆ†è§£æˆä¸äº¤è½®æ¢ä¹˜ç§¯çš„è½®æ¢ä¸ªæ•°æœ‰å…³ã€‚

:::

## ç»“è®º { #ncj-finale }

::: { .fragment .fade-out data-fragment-index="1" style="height:0" }

- è®° $T^i$ å¯¹è§’çº¿å…ƒç´ ä¹‹å’Œä¸º $f(i)$
- æ—‹è½¬ $i \frac{2\pi}{n}$ ä¸‹ä¸åŠ¨å…ƒä¸ªæ•°ä¸º $f(\gcd(n, i))$

:::

::: { .fragment data-fragment-index="1" }

$$
\begin{aligned}
\sum\limits_{\sigma \in G} \mid \text{fix}(\sigma) \mid 
& = \sum\limits_{i = 1}^{n} f(\gcd(n, i)) \\
& = \sum\limits_{d \mid n} f(d) \cdot \sum\limits_{i = 1}^{n} [\gcd(n, i) = d] \\
& = \sum\limits_{d \mid n} f(d) \cdot \varphi(\frac{n}{d})
\end{aligned}
$$

- å¤æ‚åº¦ï¼š $\mathcal{O}(d(n) \cdot 64^3\log{n})$ï¼Œå…¶ä¸­ $d(n)$ ä»£è¡¨ $n$ çš„çº¦æ•°ä¸ªæ•°ã€‚

:::


# æ— å‘å›¾åŒæ„è®¡æ•° { #coloring-undirected-graph }

$n$ ä¸ªç‚¹æ— å‘å®Œå…¨å›¾ï¼Œ$m$ ç§é¢œè‰²ç»™è¾¹æŸ“è‰²ï¼Œæ±‚æœ¬è´¨ä¸åŒçš„æŸ“è‰²æ–¹æ¡ˆæ•°ã€‚

$n \le 60, \ m \le 10^3$

::: { .fragment }

- ä¸¤å¼ å›¾è‹¥**å¯¹ç‚¹é‡æ ‡å·**åå¯ä»¥é‡åˆå³ä¸ºåŒæ„ï¼›
- æŠŠè¾¹çš„ä¸å­˜åœ¨å½“ä½œä¸€ç§é¢œè‰²å¯å°†å…¶æ¨å¹¿è‡³ä¸€èˆ¬æ— å‘å›¾åŒæ„ã€‚
  
:::

## åˆ†æ { #cug-analysis }

$$
\begin{aligned}
G & = S_n \enspace (n \text{é˜¶å¯¹ç§°ç¾¤}), \ \mid S_n \mid = n! \\
M & = \{ \text{ä¸è®¡åŒæ„çš„æ— å‘å›¾æŸ“è‰²æ–¹æ¡ˆ} \}
\end{aligned}
$$

- ç½®æ¢æ˜¯å¯¹ç‚¹çš„ç½®æ¢ï¼Œè€ŒæŸ“è‰²æ˜¯å¯¹è¾¹æŸ“è‰²ï¼›
- ä¸¤ç‚¹ç¡®å®šä¸€æ¡è¾¹ï¼Œåˆ†æè¾¹ä¸¤ç«¯ç‚¹çš„æƒ…å†µã€‚

::: { .notes }

æ ¹æ®æ— å‘å›¾åŒæ„çš„å®šä¹‰å‘ç°å¯¹äºè¾¹çš„ç½®æ¢éå¸¸éš¾æ‰¾â€¦â€¦ è¦æƒ³åŠæ³•æŠŠå¯¹ç‚¹çš„ç½®æ¢ä¸è¾¹çš„ç½®æ¢è”ç³»èµ·æ¥â€¦â€¦ æ—¢ç„¶ä¸¤ç‚¹å¯ä»¥ç¡®å®šä¸€æ¡è¾¹ï¼Œé‚£ä¸å¦¨åˆ†æè¾¹ä¸¤è¾¹çš„æƒ…å†µã€‚

åé¢ä¼šç”¨ç±»ä¼¼ â€œç‚¹ç½®æ¢â€ã€â€œç‚¹è½®æ¢â€ å’Œ â€œè¾¹ç½®æ¢â€ã€â€œè¾¹è½®æ¢â€ ç­‰ç”¨è¯å¯¹ä¸¤è€…è¿›è¡ŒåŒºåˆ†ã€‚

:::

## ä¸¤ç«¯åœ¨åŒä¸€è½®æ¢å†…çš„è¾¹ { #cug-edge-case-1}

$$
\sigma = (1 \enspace 3 \enspace 5 \enspace 6) \cdot (2 \enspace 4)
$$

::: { .fragment .current-visible style="height:0" }

- å¯¹äºä¸¤ç«¯ç‚¹ä½äºåŒä¸€ç‚¹è½®æ¢å†…çš„è¾¹ï¼š
  - $\langle 1, 3 \rangle \rightarrow \langle 3 ,5 \rangle \rightarrow \langle 5, 6 \rangle \rightarrow \langle 6, 1 \rangle$
  - $\langle 1, 5 \rangle \rightarrow \langle 3, 6 \rangle$
  - $\langle 2, 4 \rangle$

:::

---

$$
(a_0 \enspace a_1 \enspace \dots \enspace a_{l - 1})
$$

$$
\langle a_i, a_j \rangle \rightarrow \langle a_{(i + 1) \bmod l}, a_{(j + 1) \bmod l} \rangle \rightarrow \dots
$$

::: { .fragment .current-visible style="height:0" }

$$
\begin{cases}
i + t \equiv i \pmod l \\
j + t \equiv j \pmod l
\end{cases}
$$

:::

::: { .fragment }

$$
t \equiv 0 \pmod l
$$

æœ€å°æ­£æ•´æ•°è§£ $t = l$ï¼Œåˆ™è¾¹è½®æ¢é•¿åº¦è‡³å¤šä¸º $l$ã€‚

:::

---

$$
(a_0 \enspace a_1 \enspace \dots \enspace a_{l  - 1})
$$

$$
\langle a_i, a_j \rangle \rightarrow \langle a_{(i + 1) \bmod l}, a_{(j + 1) \bmod l} \rangle \rightarrow \dots
$$

::: { .fragment .current-visible style="height:0" }

$$
\begin{cases}
i + t \equiv j \pmod l \\
j + t \equiv i \pmod l
\end{cases}
$$

:::

::: { .fragment }

$$
2i \equiv 2j \pmod l
$$

- è‹¥ $2 \nmid l$ï¼Œåˆ™ $i \equiv j \pmod l$ï¼Œæ— æ³•æ„æˆè¾¹ï¼›
- è‹¥ $2 \mid l$ï¼Œåˆ™ $i \equiv j \pmod {\frac{l}{2}}$ï¼Œæœ€å°éè´Ÿ $t = \frac{l}{2}$ã€‚

:::

::: { .notes }

ä¸‹æ ‡é—´è·ç›¸åŒçš„è¾¹å¿…ç„¶åœ¨åŒä¸€è¾¹è½®æ¢å†…ã€‚

:::

---

$$
(a_0 \enspace a_1 \enspace \dots \enspace a_{l - 1})
$$

- å¯¹äºè¾¹ $\langle a_i, a_j \rangle$ æ‰€åœ¨çš„è¾¹è½®æ¢ï¼š
  - è‹¥ $2 \mid l$ ä¸” $\mid j - i \mid = \frac{l}{2}$ï¼Œåˆ™å…¶å¤§å°ä¸º $\frac{l}{2}$ï¼›
  - å¦åˆ™å…¶å¤§å°ä¸º $l$ï¼›
- $\mid j - i \mid \bmod l$ ç›¸åŒçš„è¾¹åœ¨åŒä¸€è¾¹è½®æ¢å†…ï¼Œæ•…è¾¹è½®æ¢ä¸ªæ•°ä¸º $\lfloor \frac{l}{2} \rfloor$ã€‚

::: { .notes }

æ¢å¥è¯è¯´ï¼š

- ä¸¤ç‚¹åœ¨ç›¸åŒä¸”å¤§å°ä¸º $l$ çš„ç‚¹è½®æ¢é‡Œçš„è¾¹å…±å¯æ„æˆ $\lfloor \frac{l}{2} \rfloor$ ä¸ªè¾¹è½®æ¢ï¼Œå…¶ä¸­ï¼š
  - è‹¥ $2 \nmid l$ï¼Œåˆ™æ¯ä¸ªè¾¹è½®æ¢å¤§å°å‡ä¸º $l$ï¼›
  - è‹¥ $2 \mid l$ï¼Œåˆ™ä¸€ä¸ªè¾¹è½®æ¢å¤§å°ä¸º $\frac{l}{2}$ï¼Œå…¶ä½™è¾¹è½®æ¢å¤§å°ä¸º $l$ã€‚

:::

## ä¸¤ç«¯åœ¨ä¸åŒè½®æ¢å†…çš„è¾¹ { #cug-edge-case-2 }

$$
\sigma = (1 \enspace 3 \enspace 5 \enspace 6) \cdot (2 \enspace 4)
$$

- ä¸¤ç‚¹åœ¨ä¸åŒç‚¹è½®æ¢é‡Œçš„è¾¹ï¼š
  - $\langle 1, 2 \rangle \rightarrow \langle 3, 4 \rangle \rightarrow \langle 5, 2 \rangle \rightarrow \langle 6, 4 \rangle$
  - $\langle 1, 4 \rangle \rightarrow \langle 3, 2 \rangle \rightarrow \langle 5, 4 \rangle \rightarrow \langle 6, 2 \rangle$

---

$$
(a_0 \enspace a_1 \enspace \dots \enspace a_{l - 1}) \cdot (b_0 \enspace b_1 \enspace \dots \enspace b_{s - 1} )
$$

$$
\langle a_i, b_j \rangle \rightarrow \langle a_{(i + 1) \bmod l}, b_{(j + 1) \bmod s} \rangle \rightarrow \dots
$$

::: { .fragment }

$$
\begin{cases}
i + t \equiv i \pmod l \\
j + t \equiv j \pmod s
\end{cases}
$$

- æ¯ä¸ªè¾¹è½®æ¢å¤§å°ä¸º $\text{lcm}(l, s)$ï¼Œå…± $\frac{ls}{\text{lcm}(l, s)} = \gcd(l, s)$ ä¸ªã€‚

:::

## ç‚¹è½®æ¢ä¸è¾¹è½®æ¢çš„å…³ç³» { #cug-vertex-edge-relation }

$$
\sigma = \prod\limits_{i = 1}^{k} c_i \quad (\text{è½®æ¢ } c_i \text{ é•¿åº¦ä¸º } l_i)
$$

- å¯è¡¨ç¤ºæˆè¾¹è½®æ¢çš„ä¸ªæ•°ï¼š
  $$
  \sum\limits_{i = 1}^{k} \left\lfloor \frac{l_i}{2} \right\rfloor + \sum\limits_{i = 1}^{k}\sum\limits_{j = i + 1}^{k} \gcd(l_i, l_j)
  $$

::: { .fragment .current-visible style="height:0" }

- ä¸åŠ¨å…ƒï¼Ÿæ¯ä¸ªè¾¹è½®æ¢å†…çš„è¾¹æŸ“è‰²æƒ…å†µåº”å½“ç›¸åŒï¼›
- $\mid S_n \mid = n!$ï¼Œæ²¡åŠæ³•æšä¸¾æ¯ä¸€ä¸ªç½®æ¢â€¦â€¦

:::

::: { .fragment }

- è¾¹è½®æ¢çš„ä¸ªæ•°åªè·Ÿæ¯ä¸ªç‚¹è½®æ¢çš„å¤§å°æœ‰å…³ç³»ï¼›
- æšä¸¾ç‚¹è½®æ¢å¤§å°çš„æƒ…å†µï¼ˆ$n$ çš„æ‹†åˆ†æ–¹æ¡ˆï¼‰ï¼Ÿ

:::

::: { .notes }

æƒ³åŠæ³•å‰ªæã€‚æˆ‘ä»¬å¹¶ä¸å…³ç³»æ¯ä¸ªè¾¹ç½®æ¢é‡Œé¢æœ‰å“ªäº›è¾¹æˆ–è€…æœ‰å¤šå°‘è¾¹â€¦â€¦ æ—¢ç„¶æ¯ä¸ªè¾¹è½®æ¢å†…çš„è¾¹é¢œè‰²éƒ½è¦ä¸€æ ·ï¼Œæˆ‘ä»¬åªå…³å¿ƒè¾¹è½®æ¢çš„ä¸ªæ•°å°±è¡Œäº†ã€‚

:::

## å‰ªæ { #cug-pruning }

- æšä¸¾ $n$ çš„æ‹†åˆ†æ–¹æ¡ˆï¼š

  $$
  n = \sum\limits_{i = 1}^{k} l_i \ (l_1 \le l_2 \le \dots \le l_k)
  $$

- æ¯ä¸€ç§æ‹†åˆ†æ–¹æ¡ˆå¯¹åº”å¤šå°‘ç‚¹ç½®æ¢ï¼Ÿ

---

::: { .fragment .fade-out data-fragment-index="1" style="height:0" }

- $n$ ä¸ªç‚¹åˆ†é…åˆ°è½®æ¢å†…ï¼ˆå¤šé‡ç»„åˆæ•°ï¼‰ï¼š
  $$
  \frac{n!}{\prod\limits_{i = 1}^{k} l_i!}
  $$

:::

::: { .fragment .current-visible data-fragment-index="1" style="height:0" }

- å†è€ƒè™‘è½®æ¢å†…çš„é¡ºåºï¼ˆåœ†æ’åˆ—ï¼‰ï¼š
  - æ¯”å¦‚ $(1 \enspace 2 \enspace 3)$ å’Œ $(1 \enspace 3 \enspace 2)$ ç®—ä¸åŒçš„ç½®æ¢
  $$
  \frac{n!}{\prod\limits_{i = 1}^{k} l_i!} \cdot \prod\limits_{i = 1}^{k} (l_i - 1)!
  $$

:::

::: { .fragment }

- å¯¹äºé•¿åº¦ç›¸ç­‰çš„è½®æ¢ï¼Œå…¶ä¹‹é—´çš„é¡ºåºä¸è®¡ã€‚
  - è®°å…±æœ‰ $s$ ç§ä¸åŒé•¿åº¦çš„è½®æ¢ï¼Œå…¶ä¸­ç¬¬ $i$ ç§è½®æ¢çš„ä¸ªæ•°ä¸º $q_i$ï¼Œåˆ™ï¼š 
  $$
  \frac{n!}{\prod\limits_{i = 1}^{k} l_i} \cdot \prod\limits_{i = 1}^{s} \frac{1}{q_i!}
  $$

:::

## ç»“è®º { #ucg-finale }

- å¯¹ $n$ çš„æ¯ä¸€ç§æ‹†åˆ†æ–¹æ¡ˆï¼š$n = \sum\limits_{i = 1}^{k} l_i$
  - $l_1 \le l_2 \le \dots \le l_k$ï¼›
  - è®°å…±æœ‰ $s$ ç§ä¸åŒé•¿åº¦çš„è½®æ¢ï¼Œå…¶ä¸­ç¬¬ $i$ ç§è½®æ¢çš„ä¸ªæ•°ä¸º $q_i$ï¼›
  - å…¶å¯¹åº”çš„ç‚¹è½®æ¢æ•°é‡ä¸ºï¼š

$$
\frac{n!}{(\prod\limits_{i = 1}^{k} l_i) \cdot (\prod\limits_{i = 1}^{s} q_i!)}
$$

---

$$
\begin{aligned}
& \frac{1}{|G|} \sum\limits_{\sigma \in G} \mid \text{fix}(\sigma) \mid \\
& = \frac{1}{n!} \cdot \sum\frac{n!}{(\prod\limits_{i = 1}^{k} l_i) \cdot (\prod\limits_{i = 1}^{s} q_i!)} \cdot m^{\sum\limits_{i = 1}^{k} \left\lfloor \frac{l_i}{2} \right\rfloor + \sum\limits_{i = 1}^{k}\sum\limits_{j = i + 1}^{k} \gcd(l_i, l_j)}
\end{aligned}
$$

- å¤æ‚åº¦ $\mathcal{O} \left( \sum\limits_{p \in \text{Partition}(n)} \text{len}^2(p) \cdot \log{n} \right)$
- å…¶å®é¢˜ç›®æ•°æ®èŒƒå›´å†… $\text{Partition}(n)$ å¤§å°ä¸å¤§â€¦â€¦ æ‰€ä»¥ $\mathcal{O}(\text{èƒ½è¿‡})$ã€‚

::: { .notes }

$\text{Partition}(n)$ æŒ‡ $n$ çš„æ‹†åˆ†æ–¹æ¡ˆæ•°ï¼Œè€Œ $\text{len}(p)$ æŒ‡æ‹†åˆ†æ–¹æ¡ˆ $p$ çš„é•¿åº¦ï¼ˆå³æ‹†æˆäº†å¤šå°‘ä¸ªç‚¹è½®æ¢ï¼‰ 

:::

---

### æ€è·¯å›é¡¾

- ç½®æ¢æ˜¯å¯¹ç‚¹çš„ç½®æ¢ï¼Œå‡å¯åˆ†è§£æˆç‚¹è½®æ¢ä¹‹ç§¯ï¼›
- æŸ“è‰²å¯¹è¾¹æŸ“è‰²ï¼ŒåŒä¸€è¾¹è½®æ¢å†…è¾¹æŸ“è‰²æ–¹æ¡ˆç›¸åŒï¼›
- ç‚¹è½®æ¢å’Œè¾¹è½®æ¢ä¹‹é—´çš„å…³ç³»ï¼Ÿ
- åªå…³å¿ƒè¾¹è½®æ¢ä¸ªæ•°ï¼Œå…¶åªä¸ç‚¹è½®æ¢çš„å¤§å°æƒ…å†µæœ‰å…³ï¼Œæšä¸¾ç‚¹è½®æ¢çš„å¤§å°æƒ…å†µâ€¦â€¦

  
# è°¢è°¢å¤§å®¶ { #finale }

## ç›¸å…³é¢˜ç›® #1 { #probset-1 }

- [HDU 1817: Necklace of Beads](http://acm.hdu.edu.cn/showproblem.php?pid=1817)
- [HDU 3547: DIY Cube](http://acm.hdu.edu.cn/showproblem.php?pid=3547)
- [HDU 3441: Rotation](http://acm.hdu.edu.cn/showproblem.php?pid=3441)
- [POJ 2888: Magic Bracelet](http://poj.org/problem?id=2888)
- [æ´›è°· P1446: Cards](https://www.luogu.com.cn/problem/P1446)

## ç›¸å…³é¢˜ç›® #2 { #probset-2 }

- [æ´›è°· P4128: æœ‰è‰²å›¾](https://www.luogu.com.cn/problem/P4128)
- [ICPC 2014 éå±± K: Colorful Toy](http://acm.hdu.edu.cn/showproblem.php?pid=5080)
- [HDU 6360: Kaleidoscope](http://acm.hdu.edu.cn/showproblem.php?pid=6360)
- [ICPC 2019 å—æ˜Œ J: Summon](https://nanti.jisuanke.com/t/42585)
- [ICPC 2019 é“¶å· M: Crazy Cake](https://nanti.jisuanke.com/t/42393)

::: { .notes }

æœ¬æ¬¡è®²è§£åªè®²äº†ä¸€äº›æ¯”è¾ƒåˆæ­¥çš„åº”ç”¨ï¼Œè€Œç»™çš„é¢˜ç›®é‡Œé¢å¾ˆå¤šæ›´åŠ çµæ´»ï¼Œä¸ä¿è¯ä»…é å¹»ç¯ç‰‡é‡Œçš„å†…å®¹å°±èƒ½è§£å‡ºè¿™äº›é¢˜ï¼ˆç‹—å¤´ä¿å‘½ï¼‰â€¦â€¦

:::

## å‚è€ƒèµ„æ–™ { #reference }

- è¿‘ä¸–ä»£æ•°å¼•è®º/å†¯å…‹å‹¤,æå°šå¿—,ç« ç’ç¼–è‘—.-3ç‰ˆ.-åˆè‚¥ï¼šä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦å‡ºç‰ˆç¤¾,2009.12
- è¿‘ä¸–ä»£æ•°åˆæ­¥/çŸ³ç”Ÿæ˜.-2ç‰ˆ.-åŒ—äº¬ï¼šé«˜ç­‰æ•™è‚²å‡ºç‰ˆç¤¾,2006.3
- Contemporary Abstract Algebra/Joseph A. Gallian.-8th Edition
- [ç¾¤è®ºåˆæ¢ - nosta - åšå®¢å›­](https://www.cnblogs.com/nosta/p/9444576.html)
